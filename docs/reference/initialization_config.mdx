---
title: 'Initialization Config'
description: 'How to configure Stagehand'
icon: 'gear'
---

## Stagehand constructor

```javascript
// Basic usage
// Defaults to Browserbase; if no API key is provided, it will default to LOCAL
// Default model is gpt-4o
const stagehand = new Stagehand();

// Custom configuration
const stagehand = new Stagehand({
	env: "LOCAL",
	verbose: 1,
	headless: true,
	enableCaching: true,
	logger: (logLine: LogLine) => {
		console.log(`[${logLine.category}] ${logLine.message}`);
	},
});

// Resume existing Browserbase session
const stagehand = new Stagehand({
	env: "BROWSERBASE",
	browserbaseResumeSessionID: "existing-session-id",
});
```

This constructor is used to create an instance of Stagehand.

### **Arguments:** [`ConstructorParams`](https://github.com/browserbase/stagehand/blob/ed318846479054b6c7e3862b6c0c8aaa0bb0f42a/types/stagehand.ts#L8-L23)

|  |  |
|-----------|-------------|
| `env` | `'LOCAL'` or `'BROWSERBASE'`. Defaults to `'BROWSERBASE'` |
| `apiKey` | Your Browserbase API key. Defaults to `BROWSERBASE_API_KEY` environment variable |
| `projectId` | Your Browserbase project ID. Defaults to `BROWSERBASE_PROJECT_ID` environment variable |
| `browserBaseSessionCreateParams` | Configuration options for creating new Browserbase sessions |
| `browserbaseResumeSessionID` | ID of an existing Browserbase session to resume |
| `modelName` | An [`AvailableModel`](https://github.com/browserbase/stagehand/blob/ed318846479054b6c7e3862b6c0c8aaa0bb0f42a/types/model.ts#L6-L12) specifying the default model to use |
| `modelClientOptions` | Configuration options for the model client |
| `enableCaching` | A `boolean` that enables caching of LLM responses. When set to `true`, the LLM requests will be cached on disk and reused for identical requests. Defaults to `false` |
| `headless` | A `boolean` that determines if the browser runs in headless mode. Defaults to `false`. When the env is set to `BROWSERBASE`, this will be ignored |
| `domSettleTimeoutMs` | An `integer` that specifies the timeout in milliseconds for waiting for the DOM to settle. Defaults to 30000 (30 seconds) |
| `logger` | A function that handles log messages. Useful for custom logging implementations. For more information, see the [Logging](/reference/logging) page |
| `verbose` | An `integer` that enables several levels of logging during automation: `0`: limited to no logging, `1`: SDK-level logging, `2`: LLM-client level logging (most granular) |
| `debugDom` | A `boolean` that draws bounding boxes around elements presented to the LLM during automation |

### **Returns:** Stagehand object

The constructor returns an instance of the `Stagehand` class configured with the specified options. However, to use Stagehand, you must still initialize it either with [`init()`](#init) or `initFromPage()`.

## `stagehand.init()`

```javascript
await stagehand.init({
	modelName: "gpt-4o",
	modelClientOptions: {
		apiKey: "sk-proj-1234567890",
	},
	domSettleTimeoutMs: 10_000,
});
```

`init()` asynchronously initializes the Stagehand instance. It should be called before any other methods.

- **Arguments:** [`InitOptions`](https://github.com/browserbase/stagehand/blob/ed318846479054b6c7e3862b6c0c8aaa0bb0f42a/types/stagehand.ts#L30-L34)

|  |  |
|-----------|-------------|
| `modelName` | (optional) an [`AvailableModel`](https://github.com/browserbase/stagehand/blob/ed318846479054b6c7e3862b6c0c8aaa0bb0f42a/types/model.ts#L6-L12) string to specify the model to use. This will be used for all other methods unless overridden |
| `modelClientOptions` | (optional) configuration options for the model client |
| `domSettleTimeoutMs` | (optional) timeout in milliseconds for waiting for the DOM to settle |

- **Returns:** [`InitResult`](https://github.com/browserbase/stagehand/blob/ed318846479054b6c7e3862b6c0c8aaa0bb0f42a/types/stagehand.ts#L36-L40)

  - A `Promise` that resolves to an object containing:
    - `debugUrl`: a `string` representing the URL for live debugging. This is only available when using a Browserbase browser.
    - `sessionUrl`: a `string` representing the session URL. This is only available when using a Browserbase browser.
